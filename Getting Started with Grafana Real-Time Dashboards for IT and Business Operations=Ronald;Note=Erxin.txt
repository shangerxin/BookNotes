Getting Started with Grafana: Real-Time Dashboards for IT and Business Operations=Ronald;Note=Erxin



# Dashboard design 
- folder 
- tag 


# Workflow 

# Advance panels 
- Panel overrides let you change options set in a panel for specific portions of the data that’s being visualized without changing the global settings

- The debug icon will open a special view that shows the data before and after the transformation runs

- full list in the Grafana documentation at https://grafana.com/docs/grafana/latest/panels/transformations/.

- Group by lets you rearrange your data so that it’s first grouped together by one or more columns and then lets you decide how to represent the other columns

- The reduce transformation takes large or complex data sets and collapses them down to a small summary.



# Dashboard variables 
- Variables are a powerful feature of Grafana that allow a great deal of flexibility and dynamic control of your dashboards. 

To start, fill in the following:
Name: mytext

Type: Text box

Label: Text to display

Hide: (blank)

- custom variables 

student IDs using this variable:
SELECT * FROM students WHERE student_id LIKE ${student}

SELECT CONCAT(firstname, ' ', lastname) as __text, student_id as __value FROM students;

- chaining variables 

One of the most powerful – and least obvious – features of Grafana is that variables can be strung together, one after another. 

- If you want to link to a Grafana dashboard with specific variables set from somewhere outside of Grafana, you can specify the variable values in the URL.

https://yourname.grafana.net/d/glLNuda8a/regional-dashboard?orgId=1&var-region=northamerica


# Alerting 
- Contact points define where alerts should be delivered. 


# Advance deployment and management 
- To use MySQL (or MariaDB, a popular fork of MySQL), you’ll first need to set up the database server itself

- Deploying the Rendering Service

- Setting up the external rendering service connection requires telling Grafana where it can find the remote service. To do this, edit grafana.ini and look for the rendering configuration section

- Authentication and SSO systems are an expansive and nuanced set of topics, and it would be impossible to cover every possible configuration here

- Enabling LDAP authentication in your Grafana environment allows users to connect to Grafana using their user credentials that are stored and managed in a centralized directory service. 

[auth.ldap]
enabled = true
config_file = conf/ldap.toml
allow_sign_up = true
Listing 12-9Enabling LDAP in Grafana

- section by section.
```
[[servers]]
# LDAP server(s) connection info:
host = "ldap.forumsys.com"
port = 389
# No encryption required here; see docs for LDAP SSL settings
use_ssl = false
start_tls = false
ssl_skip_verify = false
# How Grafana authenticates to the LDAP server:
bind_dn = "cn=read-only-admin,dc=example,dc=com"
bind_password = 'password'
# The LDAP search string to use to find valid users:
search_filter = "(uid=%s)"
# Where in the directory to find those users:
search_base_dns = ["dc=example,dc=com"]
group_search_filter = "(&(objectClass=groupOfUniqueNames)(uniqueMember=uid=%s,dc=example,dc=com))"
group_search_base_dns = ["dc=example,dc=com"]
group_search_filter_user_attribute = "uid"
# What fields to map in the directory to Grafana user info:
[servers.attributes]
name = "givenName"
surname = "sn"
username = "uid"
member_of = "DN"
email =  "mail"
### Below are mappings of LDAP groups to Grafana roles
# Make members of the 'chemists' group admins
[[servers.group_mappings]]
group_dn = "ou=chemists,dc=example,dc=com"
org_role = "Admin"
# Make members of the 'scientists' group editors
[[servers.group_mappings]]
group_dn = "ou=scientists,dc=example,dc=com"
org_role = "Editor"
# Make everyone else viewers
[[servers.group_mappings]]
group_dn = "*"
org_role = "Viewer"
```

- OAuth is an open authorization framework that allows one website or application to pass authentication information to another.

- Grafana supports OAuth2 as a login mechanism, meaning that you can allow users to connect to your Grafana environment by using login information provided by one of the preceding providers or through a single sign-on (SSO) 



# Programmatic grafana 
- reset APIs 

formalized the concept. It’s available online at www.ics.uci.edu/~fielding/pubs/dissertation/top.htm. But for our purposes, you really just need to know the basics of sending requests and receiving responses

- Postman is available for download from www.postman.com/downloads/. 

- To add an API key to Grafana, click the “Add API key” button to the right of the search box.

- API is documented on the Grafana website at https://grafana.com/docs/grafana/latest/.

- dashboard in Grafana is

https://gettingstartedwithgrafana.grafana.net/d/glLNuda7z/my-dashboard?orgId=1

https://<your grafana instance>/api/dashboards/uid/<dashboard UID>

To create or update a Grafana dashboard, you will POST data to the API at
https://<your grafana instance>/api/dashboards/db

- full exploration of the full functionality of provisioning. That is available in the Grafana documentation at https://grafana.com/docs/grafana/latest/administration/provisioning/.


# Grafana enterprise 
- data source 

- Open source Grafana can be connected to an LDAP directory for the purposes of enabling logins from a central directory service. 

-  a full description of SAML support in Grafana Enterprise, consult https://grafana.com/docs/grafana/latest/enterprise/saml/.

- Scheduled Reporting